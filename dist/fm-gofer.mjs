var e={d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)},r={};e.d(r,{M:()=>a,B:()=>l});const t=()=>"object"==typeof window.fmGofer&&null!==window.fmGofer,o=()=>t()?window.fmGofer.callbackName:null,i=()=>{window.fmGofer={promises:{},callbackName:null}},n=(e,r=null,t=!1)=>{try{const o=(e=>window.fmGofer.promises[e])(e);o.timeoutID&&clearTimeout(o.timeoutID),t?o.reject(r):o.resolve(r),(e=>{delete window.fmGofer.promises[e]})(e)}catch(e){console.error(e),alert(e)}},a=(e,r=null,a=0,l=3e3,m="The FM script call timed out")=>{if("number"!=typeof l)throw new Error("timeout must be a number");if("string"!=typeof m)throw new Error("timeoutMessage must be a string");return new Promise(((c,s)=>{t()||i(),o()||((e="fmGoferD7738642C91848E08720EAC24EDDA483")=>{if("string"!=typeof e||!e)throw new Error("callbackName must be a non-empty string");t||i(),window[e]=n,window.fmGofer.callbackName=e})();const w=((e,r,t,o)=>{const i={resolve:e,reject:r};0!==t&&(i.timeoutID=setTimeout((()=>{r(o)}),t));const n="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{var r=16*Math.random()|0;return("x"==e?r:3&r|8).toString(16)}));return window.fmGofer.promises[n]=i,n})(c,s,l,m),f=JSON.stringify({promiseID:w,callbackName:o(),parameter:r});let x,u;try{x=setInterval((()=>{"object"==typeof window.FileMaker&&(clearTimeout(u),clearInterval(x),window.FileMaker.PerformScriptWithOption(e,f,a))}),5),u=setTimeout((()=>{throw clearInterval(x),new Error("window.FileMaker not found")}),2e3)}catch(e){throw clearInterval(x),clearTimeout(u),e}}))},l=(e,r=null,t=3e3,o="The FM script call timed out")=>a(e,r,void 0,t,o);var m=r.B,c=r.M;export{m as PerformScript,c as PerformScriptWithOption};